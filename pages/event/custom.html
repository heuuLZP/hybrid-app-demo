<!doctype html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<link href="../../css/mui.min.css" rel="stylesheet" />
		<style>
			
		</style>
	</head>
	<body>
		<!-- header -->
		<header class="mui-bar mui-bar-nav">
		    <a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
		    <h1 class="mui-title">自定义事件</h1>
		</header>
		<div class="mui-content">
			<ul class="mui-table-view">
			        <li class="mui-table-view-cell">
			            <a class="mui-navigate-right" id="1">
			                Item 1
			            </a>
			        </li>
			        <li class="mui-table-view-cell">
			            <a class="mui-navigate-right" id="2">
			                 Item 2
			            </a>
			        </li>
			        <li class="mui-table-view-cell">
			            <a class="mui-navigate-right" id="3">
			                 Item 3
			            </a>
			        </li>
			    </ul>
		</div>
	</body>
	<script src="../../js/mui.min.js"></script>
	<script>
		mui.init({
	    			preloadPages:[{
	    				id:'detail',
	    				url:'detail.html'
	    			}]
	    		});
	    		
    		mui.plusReady(function(){
    			let detailPage = null;
    			//添加列表项的点击事件
	    		mui('.mui-content').on('tap', 'a', function(e) {
	    			let id = this.getAttribute('id');
	    			//获得详情页面
	    			if(!detailPage){
    					// detailPage = plus.webview.getWebviewById('detail');
    					detailPage = plus.webview.create('detail.html','detail');
    					console.log(detailPage)
	    			}
	    			//触发详情页面的newsId事件
	    			mui.fire(detailPage,'newsId',{
	    				id:id
	    			});
	    			//打开详情页面
	    			mui.openWindow({
	    				id:'detail'
	    			});
	    		})
    		})
    		
    		
//	    (function($, doc){
//	    		$.plusReady(function(){
//	    			$.init({
//		    			preloadPages:[{
//		    				id:'detail',
//		    				url:'detail.html'
//		    			}]
//		    		});
//	    		
//	    			let detailPage = null;
//	    			//添加列表项的点击事件
//		    		$('.mui-content').on('tap', 'a', function(e) {
//		    			let id = this.getAttribute('id');
//		    			//获得详情页面
//		    			if(!detailPage){
//	    					detailPage = plus.webview.getWebviewById('detail');
//	    					console.log(detailPage)
//		    			}
//		    			//触发详情页面的newsId事件
//		    			$.fire(detailPage,'newsId',{
//		    				id:id
//		    			});
//		    			//打开详情页面
//		    			$.openWindow({
//		    				id:'detail'
//		    			});
//		    		})
//	    		})
//	    }(mui, document));
	    
	</script>
</html>