<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<link href="../../css/mui.min.css" rel="stylesheet" />
	</head>

	<body>
		<!-- header -->
		<header class="mui-bar mui-bar-nav">
		    <a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
		    <h1 class="mui-title">UI组件</h1>
		</header>
		<div class="mui-content">
		    <ul id="list" class="mui-table-view">
			</ul>
		</div>
	</body>
	<script src="../../js/mui.min.js"></script>
	<script>
	    (function($, doc){
	    		$.init({
	    			statusBarBackground: '#f7f7f7'
	    		});
	    		
	    		const aniShow = "pop-in";
	    		
	    		//主列表点击事件
	    		$('#list').on('tap', 'a', function() {
	    			let href = this.getAttribute('href');
	    			let id = href;

				//非plus环境，直接走href跳转
				if(!$.os.plus){
					location.href = href;
					return;
				}
				
				let webview_style = {
					popGesture: "close"
				}
				let extras = {};
				
				webview_style.statusbar = {
					background: "#f7f7f7"
				}
				
				let webview = plus.webview.create(this.href,id,webview_style,extras);
				webview.addEventListener("titleUpdate",function () {
					setTimeout(function () {
						webview.show(aniShow,300);
					},100);
				});
	    		})
	    		
	    		//填充数据
	    		const array = [
	    			{
	    				name: "accordion(折叠面板)",
	    				href: "accordion.html"
	    			},
	    			{
	    				name: "actionsheet(操作表)",
	    				href: "actionsheet.html"
	    			},
	    			{
	    				name: "badges(数字角标)",
	    				href: "badges.html"
	    			},
	    			{
	    				name: "button(按钮)",
	    				href: "button.html"
	    			},
	    			{
	    				name: "cardview(卡片视图)",
	    				href: "cardview.html"
	    			},
	    			{
	    				name: "checkbox(复选框)",
	    				href: "checkbox.html"
	    			},
	    			{
	    				name: "dialog(消息框)",
	    				href: "dialog.html"
	    			},
	    			{
	    				name: "gallery(图片轮播)",
	    				href: "gallery.html"
	    			},
	    			{
	    				name: "grid(栅格)",
	    				href: "grid.html"
	    			},
	    			{
	    				name: "icon(图标)",
	    				href: "icon.html"
	    			},
	    			{
	    				name: "input(表单)",
	    				href: "input.html"
	    			},
	    			{
	    				name: "list(列表)",
	    				href: "list.html"
	    			},
	    			{
	    				name: "mask(遮罩)",
	    				href: "mask.html"
	    			},
	    			{
	    				name: "numbox(数字输入框)",
	    				href: "numbox.html"
	    			},
	    			{
	    				name: "offcanvas(侧滑菜单)",
	    				href: "offcanvas.html"
	    			},
	    			{
	    				name: "popover(弹出菜单)",
	    				href: "popover.html"
	    			},
	    			{
	    				name: "picker(选择器)",
	    				href: "picker.html"
	    			},
	    			{
	    				name: "progressbar(进度条)",
	    				href: "progressbar.html"
	    			},
	    			{
	    				name: "transparentBar(透明标题栏)",
	    				href: "transparentBar.html"
	    			},
	    			{
	    				name: "radio(单选框)",
	    				href: "radio.html"
	    			},
	    			{
	    				name: "range(滑块)",
	    				href: "range.html"
	    			},
	    			{
	    				name: "scroll(区域滚动)",
	    				href: "scroll.html"
	    			}
	    			
	    		]
	    		
	    		let table = document.body.querySelector(".mui-table-view");
	    		let ul = "";
	    		for(let item of array) {
	    			let li = `
		    			<li class="mui-table-view-cell">
						<a class="mui-navigate-right" href="${item.href}">${item.name}</a>
					</li>
	    			`;
	    			ul += li;
	    		}
	    		table.innerHTML = ul;
	    		
	    }(mui, document));
	</script>
</html>